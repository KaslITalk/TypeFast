<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>TypeFast Stats</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<link rel="stylesheet" href="style.css">
</head>
<body>
<header>
<div class="nav">
<h3>TypeFast</h3>
<div>
<button onclick="location.href='index.html'">Home</button>
<button onclick="location.href='typing.html'">TypeFast</button>
<button onclick="location.href='dashboard.html'">Dashboard</button>
<button onclick="location.href='stats.html'">Stats</button>
<button onclick="location.href='contact.html'">Contact</button>
</div>
</div>
</header>

<div class="glow">
  <div class="container">
    <h1>Stats</h1>
    <canvas id="statsChart" height="300"></canvas>
    <p id="best-stats"></p>
  </div>
</div>

<script>
const sessionHistory = JSON.parse(localStorage.getItem("sessionHistory")) || [];
const labels = sessionHistory.map((_,i)=>`Run ${i+1}`);
const wpmData = sessionHistory.map(s=>s.wpm);
const accData = sessionHistory.map(s=>s.accuracy);
const highWPM = Math.max(...wpmData,0);
const highAcc = Math.max(...accData,0);
document.getElementById("best-stats").textContent = `Best WPM: ${highWPM} | Best Accuracy: ${highAcc}%`;

new Chart(document.getElementById("statsChart"), {
  type:"line",
  data:{
    labels,
    datasets:[
      {label:"WPM", data:wpmData, borderColor:"#60a5fa", backgroundColor:"rgba(96,165,250,0.2)", fill:true, tension:0.3},
      {label:"Accuracy %", data:accData, borderColor:"#818cf8", backgroundColor:"rgba(129,140,248,0.2)", fill:true, tension:0.3}
    ]
  },
  options:{responsive:true, plugins:{legend:{labels:{color:"white"}}}, scales:{x:{ticks:{color:"white"}},y:{ticks:{color:"white"}}}}
});
</script>
</body>
</html>


